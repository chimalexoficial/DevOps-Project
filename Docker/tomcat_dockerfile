# Getting image
# FROM centos:latest -> not supported anymore
FROM rockylinux:9

# Installing Java
RUN yum install java -y

# Directory creation
RUN mkdir /opt/tomcat
WORKDIR /opt/tomcat

# Download Tomcat packages and copy in the current directory which is WORKDIR
ADD https://dlcdn.apache.org/tomcat/tomcat-11/v11.0.13/bin/apache-tomcat-11.0.13.tar.gz .

# Extract files
RUN tar -xvzf apache-tomcat-11.0.13.tar.gz
RUN mv apache-tomcat-11.0.13/* /opt/tomcat

# Port for the container
EXPOSE 8080
CMD ["/opt/tomcat/bin/catalina.sh", "run"]
